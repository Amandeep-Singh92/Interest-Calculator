<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Interest Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f2f8f5; font-family: 'Segoe UI', sans-serif; }
        .container { max-width: 680px; margin-top: 40px; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 0 12px rgba(0,0,0,0.1); }
        .result-box { background: #fff7e6; padding: 20px; border-radius: 10px; margin-top: 20px; border: 1px solid #ffd591; }
        h2, h5 { color: #2e2e2e; }
        .info-icon {
            cursor: pointer;
            color: #0d6efd;
            margin-left: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2 class="text-center mb-4">üí∞ Interest Calculator</h2>
        <form method="post" onsubmit="scrollToResult()">
            <div class="mb-3">
                <label class="form-label">Principal Amount (‚Çπ): 
                    <span class="info-icon" title="How much money have you borrowed?">‚ÑπÔ∏è</span>
                </label>
                <input type="number" name="amount" class="form-control" step="0.01" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Interest per Month (%):
                    <span class="info-icon" title="How much interest will be charged per ‚Çπ100?">‚ÑπÔ∏è</span>
                </label>
                <input type="number" name="rate" class="form-control" step="0.1" required>
            </div>

            <div class="row mb-3">
                <div class="col">
                    <label class="form-label">Duration in Months:
                        <span class="info-icon" title="For how many months are you borrowing?">‚ÑπÔ∏è</span>
                    </label>
                    <input type="number" name="months" class="form-control" required>
                </div>
                <div class="col">
                    <label class="form-label">Additional Days:
                        <span class="info-icon" title="If there are extra days, enter them here">‚ÑπÔ∏è</span>
                    </label>
                    <input type="number" name="days" class="form-control" value="0">
                </div>
            </div>

            <div class="mb-3">
                <label class="form-label">Choose Interest Type:
                    <span class="info-icon" title="How do you want to calculate the interest?">‚ÑπÔ∏è</span>
                </label>
                <select name="interest_type" class="form-select" required>
                    <option value="simple">Simple Interest (Same every month)</option>
                    <option value="compound">Compound Interest (Increasing each month)</option>
                    <option value="hybrid">Compound After 6 Months</option>
                </select>
            </div>

            <div class="d-grid">
                <button type="submit" class="btn btn-primary">üìä Calculate Interest</button>
            </div>
        </form>

        {% if interest is not none %}
        <div class="result-box mt-4" id="result">
            <h5>üßÆ Total Interest: ‚Çπ<strong>{{ "{:,.2f}".format(interest) }}</strong></h5>
            <h5>üíµ Total Amount (Principal + Interest): ‚Çπ<strong>{{ "{:,.2f}".format(total_amount) }}</strong></h5>
        </div>
        {% endif %}
    </div>

    <script>
        function scrollToResult() {
            setTimeout(function () {
                const resultDiv = document.getElementById("result");
                if (resultDiv) {
                    resultDiv.scrollIntoView({ behavior: "smooth" });
                }
            }, 500); // wait for result to render
        }
    </script>
</body>
</html>
